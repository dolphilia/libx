# AGENTS.md

このファイルは、libx リポジトリで作業するすべての AI エージェントに向けた共通ガイドラインをまとめたものです。タスクの性質にかかわらず、以下の指針を遵守してください。

## コミュニケーションポリシー

- ユーザーへの応答は**必ず日本語で行ってください**。例外はありません。
- 返信は簡潔かつ事実に基づき、リポジトリ内の根拠を示すようにしてください。
- 不明点や追加情報が必要な場合は、日本語で丁寧に確認を取りましょう。

## リポジトリ概要

- Astro ベースのモノレポで、複数のドキュメントサイトをまとめて管理しています。
- `apps/` は個別のドキュメントプロジェクト、`packages/` は共有 UI・テーマ・i18n などのワークスペースパッケージを格納します。
- `scripts/` にはプロジェクト・バージョン・言語・ドキュメントを自動生成するユーティリティがまとまっています。
- 詳細な背景や構造を掴むには `README.md` や `docs/` 配下のガイドラインを参照してください。

## よく使うコマンド

```bash
# 依存関係のインストール
pnpm install

# 開発サーバー起動（全プロジェクト）
pnpm dev

# ビルドとプレビュー
pnpm build
pnpm preview

# 選択的ビルドやサイドバー生成
pnpm build:selective --projects=<project-name>
pnpm build:sidebar
```

## 推奨ワークフロー

1. 変更前に関連ディレクトリの構造と既存ファイルを確認し、必要に応じて自動化スクリプトを利用する。
2. コードやコンテンツを編集したら、影響範囲のビルドまたはテスト（例: `pnpm build:selective`）を実行して挙動を検証する。
3. 共有パッケージを変更した場合は、複数のアプリで結果を確認し、想定外の副作用がないかをチェックする。
4. 作業内容は日本語で簡潔に記録し、ユーザーへ報告するときは変更点・確認結果・次の推奨アクションをまとめる。

## 作業時の注意事項

- ディレクトリ構造や命名規則は自動処理に依存しているため、手動変更時は必ず関連スクリプト（`pnpm build:sidebar` など）で整合性を検証してください。
- 大規模な変更を行う場合は差分を小さく保ち、影響範囲を明確化してからコミットするとトラブルを減らせます。
- 依存パッケージや設定ファイルに関わる操作では、`pnpm` を用いて整合性を維持してください。

## 参考資料

- `CLAUDE.md` — Claude Code 向け詳細ガイド（本ドキュメントと重複する情報あり）
- `README.md` — プロジェクト概要とセットアップ手順
- `docs/` 配下の各種ガイド — プロジェクト作成、バージョン追加、言語追加、ドキュメント作成の詳細
